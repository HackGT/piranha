# Migration `20201023230839-remove-vendor-from-payment`

This migration has been generated by Ayush Goyal at 10/23/2020, 7:08:39 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Payment" DROP CONSTRAINT "Payment_recipientId_fkey"

ALTER TABLE "public"."Payment" DROP COLUMN "recipientId"
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201023023621-make-received-optional..20201023230839-remove-vendor-from-payment
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 enum AccessLevel {
   NONE
@@ -107,14 +107,12 @@
 model Payment {
   id              Int           @id @default(autoincrement())
   amount          Float
+  date            String
   fundingSourceId Int
   requisitionId   Int
-  recipientId     Int
-  date            String
-  paymentMethod   PaymentMethod @relation(fields: [fundingSourceId], references: [id])
-  vendor          Vendor        @relation(fields: [recipientId], references: [id])
+  fundingSource   PaymentMethod @relation(fields: [fundingSourceId], references: [id])
   requisition     Requisition   @relation(fields: [requisitionId], references: [id])
 }
 model PaymentMethod {
@@ -182,9 +180,8 @@
 model Vendor {
   id           Int           @id @default(autoincrement())
   name         String        @unique
   isActive     Boolean       @default(true)
-  payments     Payment[]
   requisitions Requisition[]
 }
 model User {
```


