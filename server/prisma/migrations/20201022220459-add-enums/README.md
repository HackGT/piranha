# Migration `20201022220459-add-enums`

This migration has been generated by Ayush Goyal at 10/22/2020, 6:04:59 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TYPE "public"."AccessLevel" AS ENUM ('NONE', 'MEMBER', 'EXEC', 'ADMIN')

CREATE TYPE "public"."RequisitionStatus" AS ENUM ('DRAFT', 'SUBMITTED', 'PENDING_CHANGES', 'READY_TO_ORDER', 'ORDERED', 'PARTIALLY_RECEIVED', 'RECEIVED', 'CLOSED', 'CANCELLED', 'READY_FOR_REIMBURSEMENT', 'AWAITING_INFORMATION', 'REIMBURSEMENT_IN_PROGRESS')

CREATE TYPE "public"."Month" AS ENUM ('JANUARY', 'FEBRUARY', 'MARCH', 'APRIL', 'MAY', 'JUNE', 'JULY', 'AUGUST', 'SEPTEMBER', 'OCTOBER', 'NOVEMBER', 'DECEMBER')

ALTER TABLE "public"."OperatingBudget" DROP COLUMN "month",
ADD COLUMN "month" "Month"  NOT NULL 

ALTER TABLE "public"."Requisition" DROP COLUMN "status",
ADD COLUMN "status" "RequisitionStatus"  NOT NULL 

ALTER TABLE "public"."User" DROP COLUMN "accessLevel",
ADD COLUMN "accessLevel" "AccessLevel"  NOT NULL 
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201022203707-initial..20201022220459-add-enums
--- datamodel.dml
+++ datamodel.dml
@@ -3,11 +3,48 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
+enum AccessLevel {
+  NONE
+  MEMBER
+  EXEC
+  ADMIN
+}
+
+enum RequisitionStatus {
+  DRAFT
+  SUBMITTED
+  PENDING_CHANGES
+  READY_TO_ORDER
+  ORDERED
+  PARTIALLY_RECEIVED
+  RECEIVED
+  CLOSED
+  CANCELLED
+  READY_FOR_REIMBURSEMENT
+  AWAITING_INFORMATION
+  REIMBURSEMENT_IN_PROGRESS
+}
+
+enum Month {
+  JANUARY
+  FEBRUARY
+  MARCH
+  APRIL
+  MAY
+  JUNE
+  JULY
+  AUGUST
+  SEPTEMBER
+  OCTOBER
+  NOVEMBER
+  DECEMBER
+}
+
 model Budget {
   id           Int           @id @default(autoincrement())
   name         String
   categories   Category[]
@@ -33,9 +70,9 @@
 }
 model OperatingBudget {
   id                 Int                 @id @default(autoincrement())
-  month              String
+  month              Month
   year               Int
   operatingLineItems OperatingLineItem[]
 }
@@ -103,9 +140,9 @@
 model Requisition {
   id                   Int               @id @default(autoincrement())
   headline             String
   description          String
-  status               String
+  status               RequisitionStatus
   projectId            Int
   vendorId             Int?
   projectRequisitionId Int
   createdById          Int
@@ -155,9 +192,9 @@
   uuid         String
   name         String
   email        String        @unique
   token        String
-  accessLevel  String
+  accessLevel  AccessLevel
   slackId      String
   approvals    Approval[]
   projects     Project[]
   requisitions Requisition[]
```


